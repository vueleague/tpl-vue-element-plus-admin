import{K as e,aE as a,L as t,aq as i,b1 as l,N as n,d as o,aH as s,aI as c,R as r,x as u,b4 as v,r as d,at as p,W as f,bd as m,E as b,o as y,c as h,e as g,a as k,n as x,b7 as I,h as C,w as V,a4 as S,_ as w,G as T,t as B,g as _,b6 as N,Y as E,Z as j,ab as P,X as K,bo as U,au as Y,af as Z}from"./index-49a290d0.js";import{i as q}from"./validator-a87cb4ea.js";import{U as z,C as A,I as F}from"./event-5568c9d8.js";import{u as G,a as H}from"./index-856ae1ce.js";import{u as L}from"./el-button-2ca4fc68.js";const R=e({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:a},inactiveIcon:{type:a},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:t(Function)},size:{type:String,validator:q},tabindex:{type:[String,Number]}}),W={[z]:e=>i(e)||l(e)||n(e),[A]:e=>i(e)||l(e)||n(e),[F]:e=>i(e)||l(e)||n(e)},X=["onClick"],D=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],J=["aria-hidden"],M=["aria-hidden"],O=["aria-hidden"],Q="ElSwitch",$=o({name:Q});const ee=Z(P(o({...$,props:R,emits:W,setup(e,{expose:a,emit:t}){const l=e,n=s(),{formItem:o}=G(),P=c(),Z=r("switch");L({from:'"value"',replacement:'"model-value" or "v-model"',scope:Q,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},u((()=>{var e;return!!(null==(e=n.vnode.props)?void 0:e.value)})));const{inputId:q}=H(l,{formItemContext:o}),R=v(u((()=>l.loading))),W=d(!1!==l.modelValue),$=d(),ee=d(),ae=u((()=>[Z.b(),Z.m(P.value),Z.is("disabled",R.value),Z.is("checked",le.value)])),te=u((()=>({width:p(l.width)})));f((()=>l.modelValue),(()=>{W.value=!0})),f((()=>l.value),(()=>{W.value=!1}));const ie=u((()=>W.value?l.modelValue:l.value)),le=u((()=>ie.value===l.activeValue));[l.activeValue,l.inactiveValue].includes(ie.value)||(t(z,l.inactiveValue),t(A,l.inactiveValue),t(F,l.inactiveValue)),f(le,(e=>{var a;$.value.checked=e,l.validateEvent&&(null==(a=null==o?void 0:o.validate)||a.call(o,"change").catch((e=>m())))}));const ne=()=>{const e=le.value?l.inactiveValue:l.activeValue;t(z,e),t(A,e),t(F,e),K((()=>{$.value.checked=le.value}))},oe=()=>{if(R.value)return;const{beforeChange:e}=l;if(!e)return void ne();const a=e();[U(a),i(a)].includes(!0)||Y(Q,"beforeChange must return type `Promise<boolean>` or `boolean`"),U(a)?a.then((e=>{e&&ne()})).catch((e=>{})):a&&ne()},se=u((()=>Z.cssVarBlock({...l.activeColor?{"on-color":l.activeColor}:null,...l.inactiveColor?{"off-color":l.inactiveColor}:null,...l.borderColor?{"border-color":l.borderColor}:null})));return b((()=>{$.value.checked=le.value})),a({focus:()=>{var e,a;null==(a=null==(e=$.value)?void 0:e.focus)||a.call(e)},checked:le}),(e,a)=>(y(),h("div",{class:x(k(ae)),style:E(k(se)),onClick:j(oe,["prevent"])},[g("input",{id:k(q),ref_key:"input",ref:$,class:x(k(Z).e("input")),type:"checkbox",role:"switch","aria-checked":k(le),"aria-disabled":k(R),name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:k(R),tabindex:e.tabindex,onChange:ne,onKeydown:I(oe,["enter"])},null,42,D),e.inlinePrompt||!e.inactiveIcon&&!e.inactiveText?T("v-if",!0):(y(),h("span",{key:0,class:x([k(Z).e("label"),k(Z).em("label","left"),k(Z).is("active",!k(le))])},[e.inactiveIcon?(y(),C(k(w),{key:0},{default:V((()=>[(y(),C(S(e.inactiveIcon)))])),_:1})):T("v-if",!0),!e.inactiveIcon&&e.inactiveText?(y(),h("span",{key:1,"aria-hidden":k(le)},B(e.inactiveText),9,J)):T("v-if",!0)],2)),g("span",{ref_key:"core",ref:ee,class:x(k(Z).e("core")),style:E(k(te))},[e.inlinePrompt?(y(),h("div",{key:0,class:x(k(Z).e("inner"))},[e.activeIcon||e.inactiveIcon?(y(),C(k(w),{key:0,class:x(k(Z).is("icon"))},{default:V((()=>[(y(),C(S(k(le)?e.activeIcon:e.inactiveIcon)))])),_:1},8,["class"])):e.activeText||e.inactiveText?(y(),h("span",{key:1,class:x(k(Z).is("text")),"aria-hidden":!k(le)},B(k(le)?e.activeText:e.inactiveText),11,M)):T("v-if",!0)],2)):T("v-if",!0),g("div",{class:x(k(Z).e("action"))},[e.loading?(y(),C(k(w),{key:0,class:x(k(Z).is("loading"))},{default:V((()=>[_(k(N))])),_:1},8,["class"])):T("v-if",!0)],2)],6),e.inlinePrompt||!e.activeIcon&&!e.activeText?T("v-if",!0):(y(),h("span",{key:1,class:x([k(Z).e("label"),k(Z).em("label","right"),k(Z).is("active",k(le))])},[e.activeIcon?(y(),C(k(w),{key:0},{default:V((()=>[(y(),C(S(e.activeIcon)))])),_:1})):T("v-if",!0),!e.activeIcon&&e.activeText?(y(),h("span",{key:1,"aria-hidden":!k(le)},B(e.activeText),9,O)):T("v-if",!0)],2))],14,X))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]));export{ee as E};
